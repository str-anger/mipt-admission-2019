Первую задачу можно решить в одну строку с помощью команды Linux:  
echo "123 xxx 12fff" | sed 's/12/12*/g' Результат: 12*3 xxx 12*fff Код, к сожалению, не доработан, но буду стараться :)
https://ideone.com/798Ajz  

Вторая задача: Если считать возможные поля, возникающие по ходу игры для классического варианта игры крестики-нолики (поле 3x3, первый ход делают крестики, без учета симметрии и поворотов поля), то получим:

сумма от k=1 до 5 произведения сочетания из 9 по k на сочетание из 9-k по k-1 плюс сумма от k=1 до 4 произведения сочетания из 9 по k на сочетание из 9-k по k.
Первая сумма получается при числе крестиков на  1 больше числа ноликов, вторая же при равном количестве крестиков и ноликов.
Посчитав, получим 1386 Если же мы рассматриваем поля, которые образуются при конечном исходе игры, то удобнее считать, расписывая ходы.
Нетрудно определить, что для выигрыша необходимо минимум 5 ходов в игре.
При окончании игры через 5 ходов выигрывают крестики.
Имеем 8 комбинаций для расположения 3-х "победных" крестиков (3 вертикали, 3 горизонтали, 2 диагонали). 
Следовательно, остается расположить оставшиеся 2 нолика в 6 пустых клеток. В итоге получим: 8*(С из 6 по 2).
Рассматривая таким образов оставшиеся ходы, получим:
6 ходов (выигрывают нолики) 2*(С из 6 по 3) + 6((С из 6 по 3) - 2)) 
7 ходов (выигрывают крестики) 2*(С из 6 по 1)*(С из 5 по 3) + 6*((С из 6 по 3) - 2)*(С из 3 по 1) 
8 ходов (победа ноликов) 2*(С из 6 по 4)*(С из 2 по 1) + 6*((С из 6 по 4) - 2)*(С из 2 по 1) 
9 ходов (возможен как выигрыш крестиков, так и ничья) 2*(С из 6 по 4) + 6*((С из 6 по 4) - 2) + (С из 3 по 2)*(С из 3 по 1)*(С из 3 по 2) - 5 
Вычислив, получим 1058 
Беря в расчет то, что играть могут 2 умных соперника, исход игры можно определить уже по 2 ходам. 